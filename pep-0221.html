<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/peps/pep-0001.html for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<head>
  <title>PEP 221 -- Import As</title>
  <link rel="STYLESHEET" href="style.css" type="text/css" />
</head>
<body bgcolor="white">
<table class="navigation" cellpadding="0" cellspacing="0"
       width="100%" border="0">
<tr><td class="navicon" width="150" height="35">
<a href="../" title="Python Home Page">
<img src="../pics/PyBanner052.gif" alt="[Python]"
 border="0" width="150" height="35" /></a></td>
<td class="textlinks" align="left">
[<b><a href="../">Python Home</a></b>]
[<b><a href=".">PEP Index</a></b>]
[<b><a href="pep-0221.txt">PEP Source</a></b>]
</td></tr></table>
<div class="header">
<table border="0">
  <tr><th>PEP:&nbsp;</th><td>221</td></tr>
  <tr><th>Title:&nbsp;</th><td>Import As</td></tr>
  <tr><th>Version:&nbsp;</th><td>$Revision$</td></tr>
  <tr><th>Last-Modified:&nbsp;</th><td><a href="https://hg.python.org/peps/file/tip/pep-0221.txt">$Date$</a> </td></tr>
  <tr><th>Author:&nbsp;</th><td>Thomas Wouters &lt;thomas&#32;&#97;t&#32;python.org&gt;</td></tr>
  <tr><th>Status:&nbsp;</th><td>Final</td></tr>
  <tr><th>Type:&nbsp;</th><td>Standards Track</td></tr>
  <tr><th>Created:&nbsp;</th><td>15-Aug-2000</td></tr>
  <tr><th>Python-Version:&nbsp;</th><td>2.0</td></tr>
  <tr><th>Post-History:&nbsp;</th><td></td></tr>
</table>
</div>
<hr />
<div class="content">
<h3>Introduction</h3>
<pre>
    This PEP describes the `import as&#x27; proposal for Python 2.0.  This
    PEP tracks the status and ownership of this feature.  It contains
    a description of the feature and outlines changes necessary to
    support the feature.  The CVS revision history of this file
    contains the definitive historical record.


</pre>
<h3>Rationale</h3>
<pre>
    This PEP proposes an extention of Python syntax regarding the
    `import&#x27; and `from &lt;module&gt; import&#x27; statements.  These statements
    load in a module, and either bind that module to a local name, or
    binds objects from that module to a local name.  However, it is
    sometimes desirable to bind those objects to a different name, for
    instance to avoid name clashes.  This can currently be achieved
    using the following idiom:

        import os
        real_os = os
        del os
    
    And similarly for the `from ... import&#x27; statement:
    
        from os import fdopen, exit, stat
        os_fdopen = fdopen
        os_stat = stat
        del fdopen, stat
    
    The proposed syntax change would add an optional `as&#x27; clause to
    both these statements, as follows:

        import os as real_os
        from os import fdopen as os_fdopen, exit, stat as os_stat
    
    The `as&#x27; name is not intended to be a keyword, and some trickery
    has to be used to convince the CPython parser it isn&#x27;t one.  For
    more advanced parsers/tokenizers, however, this should not be a
    problem.

    A slightly special case exists for importing sub-modules.  The
    statement

        import os.path    

    stores the module `os&#x27; locally as `os&#x27;, so that the imported
    submodule `path&#x27; is accessible as `os.path&#x27;.  As a result,
    
        import os.path as p

    stores `os.path&#x27;, not `os&#x27;, in `p&#x27;.  This makes it effectively the
    same as
    
        from os import path as p


</pre>
<h3>Implementation details</h3>
<pre>
    This PEP has been accepted, and the suggested code change has been
    checked in.  The patch can still be found in the SourceForge patch
    manager[1].  Currently, a NAME field is used in the grammar rather
    than a bare string, to avoid the keyword issue.  It introduces a
    new bytecode, IMPORT_STAR, which performs the `from module import
    *&#x27; behaviour, and changes the behaviour of the IMPORT_FROM
    bytecode so that it loads the requested name (which is always a
    single name) onto the stack, to be subsequently stored by a STORE
    opcode. As a result, all names explicitly imported now follow the
    `global&#x27; directives.

    The special case of `from module import *&#x27; remains a special case,
    in that it cannot accomodate an `as&#x27; clause, and that no STORE
    opcodes are generated; the objects imported are loaded directly
    into the local namespace. This also means that names imported in
    this fashion are always local, and do not follow the `global&#x27;
    directive.
    
    An additional change to this syntax has also been suggested, to
    generalize the expression given after the `as&#x27; clause.  Rather
    than a single name, it could be allowed to be any expression that
    yields a valid l-value; anything that can be assigned to.  The
    change to accomodate this is minimal, as the patch[2] proves, and
    the resulting generalization allows a number of new constructs
    that run completely parallel with other Python assignment
    constructs. However, this idea has been rejected by Guido, as
    `hypergeneralization&#x27;.


</pre>
<h3>Copyright</h3>
<pre>
    This document has been placed in the Public Domain.


</pre>
<h3>References</h3>
<pre>
    [1] <a href="http://sourceforge.net/patch/?func=detailpatch&amp;patch_id=101135&amp;group_id=5470">http://sourceforge.net/patch/?func=detailpatch&amp;patch_id=101135&amp;group_id=5470</a>

    [2] <a href="http://sourceforge.net/patch/?func=detailpatch&amp;patch_id=101234&amp;group_id=5470">http://sourceforge.net/patch/?func=detailpatch&amp;patch_id=101234&amp;group_id=5470</a>



</pre>
</div>
</body>
</html>
