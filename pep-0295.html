<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/peps/pep-0001.html for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<head>
  <title>PEP 295 -- Interpretation of multiline string constants</title>
  <link rel="STYLESHEET" href="style.css" type="text/css" />
</head>
<body bgcolor="white">
<table class="navigation" cellpadding="0" cellspacing="0"
       width="100%" border="0">
<tr><td class="navicon" width="150" height="35">
<a href="../" title="Python Home Page">
<img src="../pics/PyBanner043.gif" alt="[Python]"
 border="0" width="150" height="35" /></a></td>
<td class="textlinks" align="left">
[<b><a href="../">Python Home</a></b>]
[<b><a href=".">PEP Index</a></b>]
[<b><a href="pep-0295.txt">PEP Source</a></b>]
</td></tr></table>
<div class="header">
<table border="0">
  <tr><th>PEP:&nbsp;</th><td>295</td></tr>
  <tr><th>Title:&nbsp;</th><td>Interpretation of multiline string constants</td></tr>
  <tr><th>Version:&nbsp;</th><td>$Revision$</td></tr>
  <tr><th>Last-Modified:&nbsp;</th><td><a href="https://hg.python.org/peps/file/tip/pep-0295.txt">$Date$</a> </td></tr>
  <tr><th>Author:&nbsp;</th><td>Stepan Koltsov &lt;yozh&#32;&#97;t&#32;mx1.ru&gt;</td></tr>
  <tr><th>Status:&nbsp;</th><td>Rejected</td></tr>
  <tr><th>Type:&nbsp;</th><td>Standards Track</td></tr>
  <tr><th>Created:&nbsp;</th><td>22-Jul-2002</td></tr>
  <tr><th>Python-Version:&nbsp;</th><td>3.0</td></tr>
  <tr><th>Post-History:&nbsp;</th><td></td></tr>
</table>
</div>
<hr />
<div class="content">
<h3>Abstract</h3>
<pre>
    This PEP describes an interpretation of multiline string constants
    for Python.  It suggests stripping spaces after newlines and
    stripping a newline if it is first character after an opening
    quotation.


</pre>
<h3>Rationale</h3>
<pre>
    This PEP proposes an interpretation of multiline string constants
    in Python.  Currently, the value of string constant is all the
    text between quotations, maybe with escape sequences substituted,
    e.g.:

        def f():
            &quot;&quot;&quot;
            la-la-la
            limona, banana
            &quot;&quot;&quot;
        
        def g():
            return &quot;This is \
            string&quot;
        
        print repr(f.__doc__)
        print repr(g())
    
    prints:
    
        &#x27;\n\tla-la-la\n\tlimona, banana\n\t&#x27;
        &#x27;This is \tstring&#x27;
    
    This PEP suggest two things

	- ignore the first character after opening quotation, if it is
	  newline
	- second: ignore in string constants all spaces and tabs up to
	  first non-whitespace character, but no more then current
	  indentation.

    After applying this, previous program will print:
    
        &#x27;la-la-la\nlimona, banana\n&#x27;
        &#x27;This is string&#x27;
    
    To get this result, previous programs could be rewritten for
    current Python as (note, this gives the same result with new
    strings meaning):
    
        def f():
            &quot;&quot;&quot;\
        la-la-la
        limona, banana
        &quot;&quot;&quot;
        
        def g():
            &quot;This is \
        string&quot;
    
    Or stripping can be done with library routines at runtime (as
    pydoc does), but this decreases program readability.


</pre>
<h3>Implementation</h3>
<pre>
    I&#x27;ll say nothing about CPython, Jython or Python.NET.
    
    In original Python, there is no info about the current indentation
    (in spaces) at compile time, so space and tab stripping should be
    done at parse time.  Currently no flags can be passed to the
    parser in program text (like from __future__ import xxx).  I
    suggest enabling or disabling of this feature at Python compile
    time depending of CPP flag Py_PARSE_MULTILINE_STRINGS.


</pre>
<h3>Alternatives</h3>
<pre>
    New interpretation of string constants can be implemented with flags
    &#x27;i&#x27; and &#x27;o&#x27; to string constants, like
    
        i&quot;&quot;&quot;
        SELECT * FROM car
        WHERE model = &#x27;i525&#x27;
        &quot;&quot;&quot; is in new style,
        
        o&quot;&quot;&quot;SELECT * FROM employee
        WHERE birth &lt; 1982
        &quot;&quot;&quot; is in old style, and
        
        &quot;&quot;&quot;
        SELECT employee.name, car.name, car.price FROM employee, car
        WHERE employee.salary * 36 &gt; car.price
        &quot;&quot;&quot; is in new style after Python-x.y.z and in old style otherwise.
    
    Also this feature can be disabled if string is raw, i.e. if flag &#x27;r&#x27;
    specified.


</pre>
<h3>Copyright</h3>
<pre>
    This document has been placed in the Public Domain.



</pre>
</div>
</body>
</html>
